<!DOCTYPE html>
  <!DOCTYPE html>
  <html>
    <head>
      <title>Canvas Refined</title>
      <style>
        canvas {
          border: 1px solid black;
        }
      </style>
    </head>
    <body>
      <div>
          <button onclick="NewItem()">Start</button>
        <script src="convoyeur.js"></script>
        <script src="generateur.js"></script>
        <script src="deplacement.js"></script>
      </div>
      <div>
        <canvas id="canvas" width="800" height="800"></canvas>
      </div>
    </body>

    <script>

      var CLOCK = 75;
      var ClockGenerateur = 5000;
      var Xgenerateur = 0, Ygenerateur = 50, TailleGenerateur = 50;
      var mouvement = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]; 
      var tailleCube=TailleGenerateur/2;
      var Yconvoyeur = Ygenerateur + TailleGenerateur + 100;

      //Stockage de la position des objets
      var max = 50;
      let Positions = [
      ['',''],['',''],['',''],['',''],['',''],
      ['',''],['',''],['',''],['',''],['',''],
      ['',''],['',''],['',''],['',''],['',''],
      ['',''],['',''],['',''],['',''],['',''],
      ['',''],['',''],['',''],['',''],['',''],
      ['',''],['',''],['',''],['',''],['',''],
      ['',''],['',''],['',''],['',''],['',''],
      ['',''],['',''],['',''],['',''],['',''],
      ['',''],['',''],['',''],['',''],['',''],
      ['',''],['',''],['',''],['',''],['','']
      ];

      //Ici on place tous les elements de la simulation
      function init(){
        var ctx = document.getElementById('canvas').getContext('2d'); 
        Generateur(Xgenerateur,Ygenerateur,TailleGenerateur,1,ctx, Positions);
        FirstConvoyeur(10,150,150,1,ctx,Positions,mouvement,tailleCube);
        FirstConvoyeur(190,150,100,1,ctx,Positions,mouvement,tailleCube);
      }

      function clock(){
        var ctx = document.getElementById('canvas').getContext('2d'); 
        
        Deplacement(Positions);
        Nettoyage(Positions,ctx);

        setTimeout(function(){clock()},CLOCK);
      }
      window.onload = init;
      window.requestAnimationFrame(clock);
    
       
    </script>
  </body>
</html>
